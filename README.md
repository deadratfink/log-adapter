# Stats

## General

| [Github License](https://github.com/deadratfink/log-adapter/blob/master/LICENSE.md) | [Github Issues](https://github.com/deadratfink/log-adapter/issues) | [Github Release](https://github.com/deadratfink/log-adapter/releases) | [Github Tags](https://github.com/deadratfink/log-adapter/tags) | [Travis CI](https://travis-ci.org) | [Waffle](https://waffle.io/deadratfink/log-adapter) | [Code Climate](https://codeclimate.com/github/deadratfink/log-adapter) |
| --- | --- | --- | --- | --- | --- | --- |
| [![License][gh-license-image]][gh-license-url] | [![Issue Stats][gh-issues-image]][gh-issues-url] | [![Github Releases][gh-releases-image]][gh-releases-url] | [![Github Tags][gh-tags-image]][gh-tags-url] | [![Build Status][ci-image]][ci-url] | [![Waffle][waffle-image]][waffle-url] | [![Code Climate][cocl-image]][cocl-url] |

## Branches

| Branch | [Codecov](https://codecov.io) | [Coveralls](https://coveralls.io) | [Inch CI](http://inch-ci.org) | [David](https://david-dm.org) DM | [David](https://david-dm.org) DM (dev) |
| --- | --- | --- | --- | --- | --- |
| master | [![codecov.io][cc-image-master]][cc-url-master]                | [![coveralls.io][ca-image-master]][ca-url-master]           | [![inch-ci.org][inch-image-master]][inch-url-master]           | [![Dependency Status][dep-image-master]][dep-url-master]           | [![devDependency Status][devdep-image-master]][devdep-url-master] |
| develop | [![codecov.io][cc-image-development]][cc-url-development] | [![coveralls.io][ca-image-development]][ca-url-development] | [![inch-ci.org][inch-image-development]][inch-url-development] | [![Dependency Status][dep-image-development]][dep-url-development] | [![devDependency Status][devdep-image-development]][devdep-url-development] |

<!--
### Coverage Graphs

| Branch | Graph |
| --- | --- |
| master | ![codecov.io](https://codecov.io/github/deadratfink/log-adapter/branch.svg?branch=master&vg=true) |
| develop| ![codecov.io](https://codecov.io/github/deadratfink/log-adapter/branch.svg?branch=develop&vg=true) | -->

<!--
## NPM

[![NPM](https://nodei.co/npm/log-adapter.png?downloads=true&downloadRank=true&stars=true)](https://nodei.co/npm/log-adapter/)
[![NPM](https://nodei.co/npm-dl/log-adapter.png?height=3&months=9)](https://nodei.co/npm-dl/log-adapter/)
-->
[gh-license-image]: https://img.shields.io/github/license/deadratfink/log-adapter.svg?style=flat-square
[gh-license-url]: https://github.com/deadratfink/log-adapter/blob/master/LICENSE.md

[gh-issues-image]: https://img.shields.io/github/issues/deadratfink/log-adapter.svg?style=flat-square
[gh-issues-url]: https://github.com/deadratfink/log-adapter/issues

[gh-releases-image]: https://img.shields.io/github/release/deadratfink/log-adapter.svg?style=flat-square
[gh-releases-url]: https://github.com/deadratfink/log-adapter/releases

[gh-tags-image]: https://img.shields.io/github/tag/deadratfink/log-adapter.svg?style=flat-square
[gh-tags-url]: https://github.com/deadratfink/log-adapter/tags


[ci-image]: https://img.shields.io/travis/deadratfink/log-adapter.svg?style=flat-square
[ci-url]: https://travis-ci.org/deadratfink/log-adapter/branches

[is-pull-image]: http://issuestats.com/github/deadratfink/log-adapter/badge/pr?style=flat-square
[is-issue-image]: http://issuestats.com/github/deadratfink/log-adapter/badge/issue?style=flat-square
[is-url]: http://issuestats.com/github/deadratfink/log-adapter

[waffle-image]: https://badge.waffle.io/deadratfink/log-adapter.png?label=ready&title=Ready&style=flat-square
[waffle-url]: https://waffle.io/deadratfink/log-adapter

[cocl-image]: https://img.shields.io/codeclimate/github/deadratfink/log-adapter.svg?style=flat-square
[cocl-url]: https://codeclimate.com/github/deadratfink/log-adapter


[cc-image-master]: https://img.shields.io/codecov/c/github/deadratfink/log-adapter/master.svg?style=flat-square
[cc-url-master]: https://codecov.io/github/deadratfink/log-adapter?branch=master
[cc-image-development]: https://img.shields.io/codecov/c/github/deadratfink/log-adapter/develop.svg?style=flat-square
[cc-url-development]: https://codecov.io/github/deadratfink/log-adapter?branch=develop

[ca-image-master]: https://img.shields.io/coveralls/deadratfink/log-adapter/master.svg?style=flat-square
[ca-url-master]: https://coveralls.io/github/deadratfink/log-adapter?branch=master
[ca-image-development]: https://img.shields.io/coveralls/deadratfink/log-adapter/develop.svg?style=flat-square
[ca-url-development]: https://coveralls.io/github/deadratfink/log-adapter?branch=develop


[inch-image-master]: https://inch-ci.org/github/deadratfink/log-adapter.svg?branch=master&style=flat-square
[inch-url-master]: https://inch-ci.org/github/deadratfink/log-adapter?branch=master
[inch-image-development]: https://inch-ci.org/github/deadratfink/log-adapter.svg?branch=develop&style=flat-square
[inch-url-development]: https://inch-ci.org/github/deadratfink/log-adapter?branch=develop

[dep-image-master]: https://img.shields.io/david/deadratfink/log-adapter/master.svg?style=flat-square
[dep-url-master]: https://david-dm.org/deadratfink/log-adapter/master
[dep-image-development]: https://img.shields.io/david/deadratfink/log-adapter/develop.svg?style=flat-square
[dep-url-development]: https://david-dm.org/deadratfink/log-adapter/develop

[devdep-image-master]: https://img.shields.io/david/dev/deadratfink/log-adapter/master.svg?style=flat-square
[devdep-url-master]: https://david-dm.org/deadratfink/log-adapter/master#info=devDependencies
[devdep-image-development]: https://img.shields.io/david/dev/deadratfink/log-adapter/develop.svg?style=flat-square
[devdep-url-development]: https://david-dm.org/deadratfink/log-adapter/develop#info=devDependencies

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
# TOC

- [log-wrapper](#log-wrapper)
  - [Installation](#installation)
  - [Tests](#tests)
  - [Dependencies](#dependencies)
  - [Dev Dependencies](#dev-dependencies)
  - [License](#license)
- [Usage](#usage)
  - [Limitations](#limitations)
  - [Using Custom Logger](#using-custom-logger)
- [Contributing](#contributing)
- [Changelog](#changelog)
- [API Reference](#api-reference)
  - [Classes](#classes)
  - [Functions](#functions)
  - [LogAdapter](#logadapter)
  - [append(appendee, toAppend, [amount]) ⇒ <code>Promise.&lt;string&gt;</code> ℗](#appendappendee-toappend-amount-%E2%87%92-codepromise&ltstring&gtcode-%E2%84%97)
  - [nl(appendee, [amount]) ⇒ <code>Promise.&lt;string&gt;</code> ℗](#nlappendee-amount-%E2%87%92-codepromise&ltstring&gtcode-%E2%84%97)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# log-wrapper 

The module provides a simple logger adapter to use 3rd party loggers injected in your code. The console is used as fallback.

## Installation

Download node at [nodejs.org](http://nodejs.org) and install it, if you haven't already.

```sh
npm install log-wrapper --save
```


## Tests

```sh
npm install
npm test
```

## Dependencies

- [bluebird](https://github.com/petkaantonov/bluebird): Full featured Promises/A+ implementation with exceptionally good performance
- [flat](https://github.com/hughsk/flat): Take a nested Javascript object and flatten it, or unflatten an object with delimited keys

## Dev Dependencies

- [codeclimate-test-reporter](https://github.com/codeclimate/javascript-test-reporter): Code Climate test reporter client for javascript projects
- [codecov](https://github.com/codecov/codecov-node): Uploading report to Codecov: https://codecov.io
- [coveralls](https://github.com/nickmerwin/node-coveralls): takes json-cov output into stdin and POSTs to coveralls.io
- [doctoc](https://github.com/thlorenz/doctoc): Generates TOC for markdown files of local git repo.
- [istanbul](https://github.com/gotwarlost/istanbul): Yet another JS code coverage tool that computes statement, line, function and branch coverage with module loader hooks to transparently add coverage when running tests. Supports all JS coverage use cases including unit tests, server side functional tests 
- [jsdoc-parse](https://github.com/jsdoc2md/jsdoc-parse): Jsdoc-annotated source code in, JSON format documentation out.
- [jsdoc-to-markdown](https://github.com/jsdoc2md/jsdoc-to-markdown): jsdoc-annotated source in, markdown API docs out.
- [mocha](https://github.com/mochajs/mocha): simple, flexible, fun test framework
- [mocha-lcov-reporter](https://github.com/StevenLooman/mocha-lcov-reporter): LCOV reporter for Mocha
- [package-json-to-readme](https://github.com/zeke/package-json-to-readme): Generate a README.md from package.json contents
- [winston](https://github.com/winstonjs/winston): A multi-transport async logging library for Node.js


## License

SEE LICENSE IN [LICENSE.md](https://github.com/deadratfink/log-wrapper/blob/master/LICENSE.md)

# Usage

The module can be used as API (some of the functions are [Promise](http://bluebirdjs.com/docs/api-reference.html) based).

## Limitations

None known yet.

## Using Custom Logger

It is usual that you use an own `logger` in your application. This module 
supports you by letting you inject your logger as constructor argument to the 
`LogAdapter` object.

If you do not provide one, then the default logger is `console`.

```javascript
TODO
```

At least, the passed `logger` object _has_ to support the following functions:

```javascript
function info(msg)
function debug(msg)
function trace(msg)
function error(err|msg)
```
Anyway, there are some fallbacks if a level is not supported:

- DEBUG ⇒ INFO
- TRACE ⇒ DEBUG

# Contributing

Pull requests and stars are always welcome. Anybody is invited to take part 
into this project. For bugs and feature requests, please create an 
[issue](https://github.com/deadratfink/log-adapter/issues).
See the wiki [Contributing](https://github.com/deadratfink/log-adapter/wiki/Changelog) 
section for more details about conventions.

# Changelog

The complete changelog is listed in the wiki [Changelog](https://github.com/deadratfink/log-adapter/wiki/Changelog) section.

# API Reference


## Classes

<dl>
<dt><a href="#LogAdapter">LogAdapter</a></dt>
<dd><p>Class which defines a <code>logger</code> adapter instance usable in your modules.</p>
</dd>
</dl>

## Functions

<dl>
<dt><a href="#append">append(appendee, toAppend, [amount])</a> ⇒ <code>Promise.&lt;string&gt;</code> ℗</dt>
<dd><p>Appends the given <code>toAppend</code> to the <code>appendee</code> string and adds newlines.</p>
</dd>
<dt><a href="#nl">nl(appendee, [amount])</a> ⇒ <code>Promise.&lt;string&gt;</code> ℗</dt>
<dd><p>Adds newlines of the given <code>amount</code> to <code>appendee</code>.</p>
</dd>
</dl>

<a name="LogAdapter"></a>

## LogAdapter
Class which defines a `logger` adapter instance usable in your modules.

**Kind**: global class  

* [LogAdapter](#LogAdapter)
    * [new LogAdapter([logger])](#new_LogAdapter_new)
    * [.logInstance](#LogAdapter+logInstance) : <code>logger</code> &#124; <code>console</code> ℗
    * [.info(msg)](#LogAdapter+info)
    * [.debug(msg)](#LogAdapter+debug)
    * [.trace(msg)](#LogAdapter+trace)
    * [.error(msg)](#LogAdapter+error)
    * [.verboseOptions(options, [keySort])](#LogAdapter+verboseOptions) ⇒

<a name="new_LogAdapter_new"></a>

### new LogAdapter([logger])
Constructs the `LogAdapter`.

**Returns**: <code>[LogAdapter](#LogAdapter)</code> - - The instance.  

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| [logger] | <code>logger</code> &#124; <code>console</code> | <code>console</code> | Logger object. |

**Example**  
```js
var logger = ...; // the 3rd party logger
var LogAdapter = require('log-adapter');
var Foo = require('foo'); // your object accepting the 3rd party logger
var foo = new Foo(logger);

// -------------------------------------------------------------------------
// Foo constructor using 3rd party:
function Foo(logger) { // inject
   this.logger = new LogAdapter(logger);
   this.logger.info('Foo constructed!');
}
// -------------------------------------------------------------------------
// Foo constructor using 'console' as fallback:
var logger = undefined;
function Foo(logger) { // injection undefined!
   this.logger = new LogAdapter(logger);
   this.logger.info('Foo constructed!');
}
// -------------------------------------------------------------------------
```
<a name="LogAdapter+logInstance"></a>

### logAdapter.logInstance : <code>logger</code> &#124; <code>console</code> ℗
The logger instance.

**Kind**: instance property of <code>[LogAdapter](#LogAdapter)</code>  
**Access:** private  
<a name="LogAdapter+info"></a>

### logAdapter.info(msg)
Log the given message with INFO level.

**Kind**: instance method of <code>[LogAdapter](#LogAdapter)</code>  
**Access:** public  

| Param | Type | Description |
| --- | --- | --- |
| msg | <code>string</code> | The message to log. |

**Example**  
```js
var logger = ...;
var logAdapter = new LogAdapter(logger);
var msg = '...';
logAdapter.info(msg);
```
<a name="LogAdapter+debug"></a>

### logAdapter.debug(msg)
Log the the given message with DEBUG level (if logger supports it, else with INFO).

**Kind**: instance method of <code>[LogAdapter](#LogAdapter)</code>  
**Access:** public  

| Param | Type | Description |
| --- | --- | --- |
| msg | <code>string</code> | The message to log. |

**Example**  
```js
var logger = ...;
var logAdapter = new LogAdapter(logger);
var msg = '...';
logAdapter.debug(msg);
```
<a name="LogAdapter+trace"></a>

### logAdapter.trace(msg)
Log the the given message with TRACE level (if logger supports it, else with DEBUG).

**Kind**: instance method of <code>[LogAdapter](#LogAdapter)</code>  
**Access:** public  
**See**: [#debug](#debug)  

| Param | Type | Description |
| --- | --- | --- |
| msg | <code>string</code> | The message to log. |

**Example**  
```js
var logger = ...;
var logAdapter = new LogAdapter(logger);
var msg = '...';
logAdapter.trace(msg);
```
<a name="LogAdapter+error"></a>

### logAdapter.error(msg)
Log the the given message with ERROR level.

**Kind**: instance method of <code>[LogAdapter](#LogAdapter)</code>  
**Access:** public  

| Param | Type | Description |
| --- | --- | --- |
| msg | <code>string</code> | The message to log. |

**Example**  
```js
var logger = ...;
var logAdapter = new LogAdapter(logger);
var msg = '...';
logAdapter.error(msg);
```
<a name="LogAdapter+verboseOptions"></a>

### logAdapter.verboseOptions(options, [keySort]) ⇒
Log the given `options` with INFO level using a flatten style. The key-values are separated by a newline.

**Kind**: instance method of <code>[LogAdapter](#LogAdapter)</code>  
**Returns**: A Promise containing the passed `options` object.  
**Access:** public  

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| options | <code>object</code> |  | The properties to log with INFO. |
| [keySort] | <code>boolean</code> | <code>false</code> | Whether to sort keys by natural order before logging. |

**Example**  
```js
var logger = ...;
var logAdapter = new LogAdapter(logger);
var options = {
    ...
};
logAdapter.verboseOptions(options)
    .then(function (options) {
        ...
    });
```
<a name="append"></a>

## append(appendee, toAppend, [amount]) ⇒ <code>Promise.&lt;string&gt;</code> ℗
Appends the given `toAppend` to the `appendee` string and adds newlines.

**Kind**: global function  
**Returns**: <code>Promise.&lt;string&gt;</code> - - This `appendee` for concatenated calls.  
**Access:** private  

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| appendee | <code>string</code> |  | The origin which is appended. |
| toAppend | <code>string</code> |  | The content to append. |
| [amount] | <code>number</code> | <code>1</code> | The amount of newlines to add. |

<a name="nl"></a>

## nl(appendee, [amount]) ⇒ <code>Promise.&lt;string&gt;</code> ℗
Adds newlines of the given `amount` to `appendee`.

**Kind**: global function  
**Returns**: <code>Promise.&lt;string&gt;</code> - - This `appendee` for concatenated calls.  
**Access:** private  

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| appendee | <code>string</code> |  | The origin which is appended. |
| [amount] | <code>number</code> | <code>1</code> | The amount of newlines to add. |

